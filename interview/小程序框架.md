# 小程序技术

小程序技术

## taro原理 与 运行时Kbone原理

taro2其实是通过将类似react的写法通过babel编译转换成小程序格式的代码，运行时通过注册Lifecycle,Event,Render去运行兼容各个自定义组件的dom变化和事件行为。（缺点是：写法一致，方法不一定一致，react更新写法同时样更新）
tar3原理：是基于Kbone同构解决方案库来实现了一套taro-runtime方案，在小程序的appService层对web应用中的 dom/bom api的方法调用适配和构造V-DOM节点，运行时通过setData将V-DOM数据传递到小程序的appView层，再通过递归构造小程序DOM实现渲染。（运行时同构方案 -> 模拟DOM/BOM API调用 -> 构造DOM节点 -> 生成V-DOM -> setData -> 递归V-DOM渲染）
